<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Gráficas: GGPLOT2 | AIS: Capacitación de R</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Gráficas: GGPLOT2 | AIS: Capacitación de R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Gráficas: GGPLOT2 | AIS: Capacitación de R" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Oliab Herrera Coria" />


<meta name="date" content="2023-06-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tarea.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Información del curso</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#temario"><i class="fa fa-check"></i>Temario</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software"><i class="fa fa-check"></i>Software</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introducción-a-r..html"><a href="introducción-a-r..html"><i class="fa fa-check"></i><b>1</b> Introducción a R.</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introducción-a-r..html"><a href="introducción-a-r..html#un-poco-de-historia"><i class="fa fa-check"></i><b>1.1</b> Un poco de historia</a></li>
<li class="chapter" data-level="1.2" data-path="introducción-a-r..html"><a href="introducción-a-r..html#quién-usa-r"><i class="fa fa-check"></i><b>1.2</b> ¿Quién usa R?</a></li>
<li class="chapter" data-level="1.3" data-path="introducción-a-r..html"><a href="introducción-a-r..html#instalación-de-r-y-r-studio."><i class="fa fa-check"></i><b>1.3</b> Instalación de R y R Studio.</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introducción-a-r..html"><a href="introducción-a-r..html#instalar-r-en-windows."><i class="fa fa-check"></i><b>1.3.1</b> Instalar R en Windows.</a></li>
<li class="chapter" data-level="1.3.2" data-path="introducción-a-r..html"><a href="introducción-a-r..html#instalar-r-en-mac."><i class="fa fa-check"></i><b>1.3.2</b> Instalar R en Mac.</a></li>
<li class="chapter" data-level="1.3.3" data-path="introducción-a-r..html"><a href="introducción-a-r..html#instalar-rstudio"><i class="fa fa-check"></i><b>1.3.3</b> Instalar RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introducción-a-r..html"><a href="introducción-a-r..html#entorno-de-trabajo-de-rstudio."><i class="fa fa-check"></i><b>1.4</b> Entorno de trabajo de RStudio.</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introducción-a-r..html"><a href="introducción-a-r..html#consola"><i class="fa fa-check"></i><b>1.4.1</b> Consola</a></li>
<li class="chapter" data-level="1.4.2" data-path="introducción-a-r..html"><a href="introducción-a-r..html#scripts"><i class="fa fa-check"></i><b>1.4.2</b> Scripts</a></li>
<li class="chapter" data-level="1.4.3" data-path="introducción-a-r..html"><a href="introducción-a-r..html#entorno"><i class="fa fa-check"></i><b>1.4.3</b> Entorno</a></li>
<li class="chapter" data-level="1.4.4" data-path="introducción-a-r..html"><a href="introducción-a-r..html#otros-recursos"><i class="fa fa-check"></i><b>1.4.4</b> Otros recursos</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introducción-a-r..html"><a href="introducción-a-r..html#configuración-del-espacio-de-trabajo"><i class="fa fa-check"></i><b>1.5</b> Configuración del espacio de trabajo</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="introducción-a-r..html"><a href="introducción-a-r..html#opción-1-fijar-directorio"><i class="fa fa-check"></i><b>1.5.1</b> Opción 1: Fijar directorio</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="introducción-a-r..html"><a href="introducción-a-r..html#opción-2-proyecto-de-r."><i class="fa fa-check"></i><b>1.6</b> Opción 2 : Proyecto de R.</a></li>
<li class="chapter" data-level="1.7" data-path="introducción-a-r..html"><a href="introducción-a-r..html#instalación-de-paquetes."><i class="fa fa-check"></i><b>1.7</b> Instalación de paquetes.</a></li>
<li class="chapter" data-level="1.8" data-path="introducción-a-r..html"><a href="introducción-a-r..html#ayuda-en-r."><i class="fa fa-check"></i><b>1.8</b> Ayuda en R.</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="comandos-básicos-de-r..html"><a href="comandos-básicos-de-r..html"><i class="fa fa-check"></i><b>2</b> Comandos básicos de R.</a>
<ul>
<li class="chapter" data-level="2.1" data-path="comandos-básicos-de-r..html"><a href="comandos-básicos-de-r..html#introducción"><i class="fa fa-check"></i><b>2.1</b> Introducción</a></li>
<li class="chapter" data-level="2.2" data-path="comandos-básicos-de-r..html"><a href="comandos-básicos-de-r..html#vectores"><i class="fa fa-check"></i><b>2.2</b> Vectores</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="comandos-básicos-de-r..html"><a href="comandos-básicos-de-r..html#acceder-a-un-elemento-de-un-objeto"><i class="fa fa-check"></i><b>2.2.1</b> Acceder a un elemento de un objeto</a></li>
<li class="chapter" data-level="2.2.2" data-path="comandos-básicos-de-r..html"><a href="comandos-básicos-de-r..html#enlistar-y-borrar-objetos"><i class="fa fa-check"></i><b>2.2.2</b> Enlistar y borrar objetos</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="comandos-básicos-de-r..html"><a href="comandos-básicos-de-r..html#tipos-de-objetos"><i class="fa fa-check"></i><b>2.3</b> Tipos de objetos</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="comandos-básicos-de-r..html"><a href="comandos-básicos-de-r..html#matrices"><i class="fa fa-check"></i><b>2.3.1</b> Matrices</a></li>
<li class="chapter" data-level="2.3.2" data-path="comandos-básicos-de-r..html"><a href="comandos-básicos-de-r..html#listas"><i class="fa fa-check"></i><b>2.3.2</b> Listas</a></li>
<li class="chapter" data-level="2.3.3" data-path="comandos-básicos-de-r..html"><a href="comandos-básicos-de-r..html#data-frame"><i class="fa fa-check"></i><b>2.3.3</b> Data Frame</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="comandos-básicos-de-r..html"><a href="comandos-básicos-de-r..html#manipulación-y-limpieza-de-datos."><i class="fa fa-check"></i><b>2.4</b> Manipulación y limpieza de datos.</a>
<ul>
<li class="chapter" data-level="" data-path="comandos-básicos-de-r..html"><a href="comandos-básicos-de-r..html#paquetes-y-el-tidyverse"><i class="fa fa-check"></i>Paquetes y el Tidyverse</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html"><i class="fa fa-check"></i><b>3</b> Manipulación y agrupación de datos</a>
<ul>
<li class="chapter" data-level="3.1" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#transformación-de-datos"><i class="fa fa-check"></i><b>3.1</b> Transformación de datos</a>
<ul>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#datos-tidy"><i class="fa fa-check"></i>Datos Tidy</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#separa-aplica-combina-split-apply-combine"><i class="fa fa-check"></i>Separa-aplica-combina (<em>split-apply-combine</em>)</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#ejemplos-y-lectura-de-datos"><i class="fa fa-check"></i>Ejemplos y lectura de datos</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#filtrar"><i class="fa fa-check"></i>Filtrar</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#seleccionar"><i class="fa fa-check"></i>Seleccionar</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#ordenar"><i class="fa fa-check"></i>Ordenar</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#mutar"><i class="fa fa-check"></i>Mutar</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#summarise-y-resúmenes-por-grupo"><i class="fa fa-check"></i>Summarise y resúmenes por grupo</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#operador-pipeline"><i class="fa fa-check"></i>Operador pipeline</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#variables-por-grupo"><i class="fa fa-check"></i>Variables por grupo</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#verbos-de-dos-tablas"><i class="fa fa-check"></i>Verbos de dos tablas</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#datos-limpios"><i class="fa fa-check"></i><b>3.2</b> Datos limpios</a>
<ul>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#limpieza-bases-de-datos"><i class="fa fa-check"></i>Limpieza bases de datos</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#los-encabezados-de-las-columanas-son-valores"><i class="fa fa-check"></i>Los encabezados de las columanas son valores</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#una-columna-asociada-a-más-de-una-variable"><i class="fa fa-check"></i>Una columna asociada a más de una variable</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#variables-almacenadas-en-filas-y-columnas"><i class="fa fa-check"></i>Variables almacenadas en filas y columnas</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#mas-de-un-tipo-de-observación-en-una-misma-tabla"><i class="fa fa-check"></i>Mas de un tipo de observación en una misma tabla</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#una-misma-unidad-observacional-está-almacenada-en-múltiples-tablas"><i class="fa fa-check"></i>Una misma unidad observacional está almacenada en múltiples tablas</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#otras-consideraciones"><i class="fa fa-check"></i>Otras consideraciones</a></li>
<li class="chapter" data-level="" data-path="manipulación-y-agrupación-de-datos.html"><a href="manipulación-y-agrupación-de-datos.html#recursos-adicionales"><i class="fa fa-check"></i>Recursos adicionales</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tarea.html"><a href="tarea.html"><i class="fa fa-check"></i><b>4</b> Tarea</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tarea.html"><a href="tarea.html#tarea-1-estructuras-de-datos"><i class="fa fa-check"></i><b>4.1</b> Tarea 1: Estructuras de Datos</a></li>
<li class="chapter" data-level="4.2" data-path="tarea.html"><a href="tarea.html#respuesta-tarea-1-estructuras-de-datos"><i class="fa fa-check"></i><b>4.2</b> Respuesta Tarea 1: Estructuras de Datos</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="gráficas-ggplot2.html"><a href="gráficas-ggplot2.html"><i class="fa fa-check"></i><b>5</b> Gráficas: GGPLOT2</a>
<ul>
<li class="chapter" data-level="5.1" data-path="gráficas-ggplot2.html"><a href="gráficas-ggplot2.html#visualización-con-ggplot2"><i class="fa fa-check"></i><b>5.1</b> Visualización con ggplot2</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="gráficas-ggplot2.html"><a href="gráficas-ggplot2.html#geom_point-o-gráficos-de-dispersion-scatter-plots"><i class="fa fa-check"></i><b>5.1.1</b> geom_point o gráficos de dispersion (scatter plots)</a></li>
<li class="chapter" data-level="5.1.2" data-path="gráficas-ggplot2.html"><a href="gráficas-ggplot2.html#texto-geom_text"><i class="fa fa-check"></i><b>5.1.2</b> Texto (geom_text())</a></li>
<li class="chapter" data-level="5.1.3" data-path="gráficas-ggplot2.html"><a href="gráficas-ggplot2.html#aesteticos-vs.-asignacion"><i class="fa fa-check"></i><b>5.1.3</b> Aesteticos vs. asignacion</a></li>
<li class="chapter" data-level="5.1.4" data-path="gráficas-ggplot2.html"><a href="gráficas-ggplot2.html#incluir-varios-aesteticos"><i class="fa fa-check"></i><b>5.1.4</b> Incluir varios aesteticos</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="gráficas-ggplot2.html"><a href="gráficas-ggplot2.html#ejercicio-1"><i class="fa fa-check"></i><b>5.2</b> Ejercicio</a></li>
<li class="chapter" data-level="5.3" data-path="gráficas-ggplot2.html"><a href="gráficas-ggplot2.html#geom_line-graficos-de-lineas"><i class="fa fa-check"></i><b>5.3</b> geom_line() graficos de lineas</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="gráficas-ggplot2.html"><a href="gráficas-ggplot2.html#ejercicio-2"><i class="fa fa-check"></i><b>5.3.1</b> Ejercicio</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="gráficas-ggplot2.html"><a href="gráficas-ggplot2.html#geom_boxplot-diagramas-de-caja"><i class="fa fa-check"></i><b>5.4</b> geom_boxplot() Diagramas de caja</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="gráficas-ggplot2.html"><a href="gráficas-ggplot2.html#ejercicio-3"><i class="fa fa-check"></i><b>5.4.1</b> Ejercicio</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="gráficas-ggplot2.html"><a href="gráficas-ggplot2.html#geom_bar-diagrama-de-barras"><i class="fa fa-check"></i><b>5.5</b> geom_bar() diagrama de barras</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">AIS: Capacitación de R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="gráficas-ggplot2" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Gráficas: GGPLOT2<a href="gráficas-ggplot2.html#gráficas-ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="visualización-con-ggplot2" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Visualización con ggplot2<a href="gráficas-ggplot2.html#visualización-con-ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Utilizaremos el paquete ggplot2, fue desarrollado por Hadley Wickham y es una implementación de la gramática de las gráficas (Wilkinson et al. 2005).</p>
<p>Un gráfico realizado con ggplot2 presenta, al menos, tres elementos:</p>
<p>1.- Datos (Data) que queremos representar (que serán un data frame).</p>
<p>2.- Características estéticas (aesthetic mappings) que describen cómo queremos que los datos se vean en el gráfico. Para más información podemos consultar la vignette (vignette(“ggplot2-specs”)). Como luego veremos, se introducen con la función aes() y se refieren a:</p>
<ul>
<li><p>posición (en los ejes)</p></li>
<li><p>color exterior (color)</p></li>
<li><p>color de relleno (fill)</p></li>
<li><p>forma de puntos (shape)</p></li>
<li><p>tipo de línea (linetype)</p></li>
<li><p>tamaño (size)
3.- Objetos geométricos (Geom) representan lo que vemos en un gráficos (puntos, líneas, etc.). Todo gráfico tiene, como mínimo, una geometría. La geometría determina el tipo de gráfico:</p></li>
<li><p>geom_point (para puntos)</p></li>
<li><p>geom_lines (para lineas)</p></li>
<li><p>geom_histogram (para histograma)</p></li>
<li><p>geom_boxplot (para boxplot)</p></li>
<li><p>geom_bar (para barras)</p></li>
<li><p>geom_smooth (líneas suavizadas)</p></li>
<li><p>geom_polygons (para polígonos en un mapa)</p></li>
<li><p>etc. (si ejecutáis el comando help.search(“geom_”, package = “ggplot2”) podéis ver el listado de objetos geométricos)</p></li>
</ul>
<p>Por tanto, para construir un gráfico con ggplot2 comenzamos con la siguiente estructura de código, usando + como nexo entre argumentos:</p>
<p><strong>ggplot(datos, aes() ) + geom_tipo()</strong></p>
<p>A partir de esta estructura básica puede mejorarse la presentación de los gráficos introduciendo, por ejemplo, características estéticas en los objetos geométricos, rotulando los gráficos, etc.</p>
<p>Otros elementos que conviene tener presente en un gráfico de ggplot2 son:</p>
<p>1.- Stat (Stat), transformaciones estadísticas para, generalmente, resumir datos (por ejemplo: contar frecuencias, número de intervalos en los histogramas, etc.).
Escalas (Scale). Las escalas, por ejemplo, convierten datos en características estéticas (colores, etc.), crean leyendas… .
2.- Coordenadas (coord): sistema de coordenadas cartesianas, polares, proyecciones, etc.
3.- Faceting (Faceting), permite representar gráficos separados para subconjuntos de los datos originales.
Vamos a realizar algunos gráficos con ggplot2. Para ello, cargamos la librería. Si no está instalado el paquete lo instalamos.</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="gráficas-ggplot2.html#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(&quot;ggplot2&quot;)</span></span>
<span id="cb281-2"><a href="gráficas-ggplot2.html#cb281-2" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(&quot;dslabs&quot;)</span></span>
<span id="cb281-3"><a href="gráficas-ggplot2.html#cb281-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb281-4"><a href="gráficas-ggplot2.html#cb281-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb281-5"><a href="gráficas-ggplot2.html#cb281-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<div id="geom_point-o-gráficos-de-dispersion-scatter-plots" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> geom_point o gráficos de dispersion (scatter plots)<a href="gráficas-ggplot2.html#geom_point-o-gráficos-de-dispersion-scatter-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Veamos cómo ha evolucionado la esperanza de vida en Europa</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="gráficas-ggplot2.html#cb282-1" aria-hidden="true" tabindex="-1"></a>aa <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span> <span class="fu">filter</span>(continent<span class="sc">==</span><span class="st">&quot;Europe&quot;</span>)</span>
<span id="cb282-2"><a href="gráficas-ggplot2.html#cb282-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> <span class="fu">ggplot</span>(<span class="at">data =</span> aa, <span class="fu">aes</span>(<span class="at">y =</span> life_expectancy, <span class="at">x =</span> year )) <span class="sc">+</span></span>
<span id="cb282-3"><a href="gráficas-ggplot2.html#cb282-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb282-4"><a href="gráficas-ggplot2.html#cb282-4" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-157-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>o, podemos transformar el eje Y para ver la evolución frente a la media</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="gráficas-ggplot2.html#cb283-1" aria-hidden="true" tabindex="-1"></a>pp <span class="ot">=</span> <span class="fu">ggplot</span>(aa, <span class="fu">aes</span>(<span class="at">y =</span> life_expectancy <span class="sc">-</span> <span class="fu">mean</span>(life_expectancy ), <span class="at">x =</span> year )) <span class="sc">+</span></span>
<span id="cb283-2"><a href="gráficas-ggplot2.html#cb283-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb283-3"><a href="gráficas-ggplot2.html#cb283-3" aria-hidden="true" tabindex="-1"></a>pp</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-158-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="gráficas-ggplot2.html#cb284-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> <span class="fu">ggplot</span>(aa, <span class="fu">aes</span>(<span class="at">y =</span> life_expectancy, <span class="at">x =</span> year ,<span class="at">color=</span>population)) <span class="sc">+</span></span>
<span id="cb284-2"><a href="gráficas-ggplot2.html#cb284-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb284-3"><a href="gráficas-ggplot2.html#cb284-3" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-159-1.png" width="672" style="display: block; margin: auto;" />
### Suavizados (geom_smooth())
El geom_smooth() añade una aproximación de los datos “x” e “y”, e incluye una cinta con el margen de confianza.</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="gráficas-ggplot2.html#cb285-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span>  <span class="fu">geom_smooth</span>() </span>
<span id="cb285-2"><a href="gráficas-ggplot2.html#cb285-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using method = &#39;gam&#39; and formula = &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</span></span>
<span id="cb285-3"><a href="gráficas-ggplot2.html#cb285-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: The following aesthetics were dropped during statistical transformation: colour</span></span>
<span id="cb285-4"><a href="gráficas-ggplot2.html#cb285-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ℹ This can happen when ggplot fails to infer the correct grouping structure in</span></span>
<span id="cb285-5"><a href="gráficas-ggplot2.html#cb285-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   the data.</span></span>
<span id="cb285-6"><a href="gráficas-ggplot2.html#cb285-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ℹ Did you forget to specify a `group` aesthetic or to convert a numerical</span></span>
<span id="cb285-7"><a href="gráficas-ggplot2.html#cb285-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   variable into a factor?</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-160-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="gráficas-ggplot2.html#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="do">## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</span></span></code></pre></div>
</div>
<div id="texto-geom_text" class="section level3 hasAnchor" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Texto (geom_text())<a href="gráficas-ggplot2.html#texto-geom_text" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Podemos añadir unas etiquetas a los puntos del gráfico de dispersión con el objeto geom_text().</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="gráficas-ggplot2.html#cb287-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span>  <span class="fu">geom_smooth</span>() <span class="sc">+</span> </span>
<span id="cb287-2"><a href="gráficas-ggplot2.html#cb287-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>country))</span>
<span id="cb287-3"><a href="gráficas-ggplot2.html#cb287-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using method = &#39;gam&#39; and formula = &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</span></span>
<span id="cb287-4"><a href="gráficas-ggplot2.html#cb287-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: The following aesthetics were dropped during statistical transformation: colour</span></span>
<span id="cb287-5"><a href="gráficas-ggplot2.html#cb287-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ℹ This can happen when ggplot fails to infer the correct grouping structure in</span></span>
<span id="cb287-6"><a href="gráficas-ggplot2.html#cb287-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   the data.</span></span>
<span id="cb287-7"><a href="gráficas-ggplot2.html#cb287-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ℹ Did you forget to specify a `group` aesthetic or to convert a numerical</span></span>
<span id="cb287-8"><a href="gráficas-ggplot2.html#cb287-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   variable into a factor?</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-161-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="gráficas-ggplot2.html#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="do">## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</span></span></code></pre></div>
</div>
<div id="aesteticos-vs.-asignacion" class="section level3 hasAnchor" number="5.1.3">
<h3><span class="header-section-number">5.1.3</span> Aesteticos vs. asignacion<a href="gráficas-ggplot2.html#aesteticos-vs.-asignacion" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Dentro de aes() debemos poner las variables aestéticas, mientras que valores fijos para todas las variables las podemos poner fuera.</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="gráficas-ggplot2.html#cb289-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb289-2"><a href="gráficas-ggplot2.html#cb289-2" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span></span>
<span id="cb289-3"><a href="gráficas-ggplot2.html#cb289-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="dv">2</span>),<span class="co"># incorrecto! 2 no es una variable</span></span>
<span id="cb289-4"><a href="gráficas-ggplot2.html#cb289-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color=</span><span class="st">&quot;red&quot;</span>) <span class="co"># correcto, todos los puntos en rojo</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-162-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>La manera correcta sería esta:</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="gráficas-ggplot2.html#cb290-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span></span>
<span id="cb290-2"><a href="gráficas-ggplot2.html#cb290-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>,<span class="co"># correcto, todos los puntos de tamaño 2</span></span>
<span id="cb290-3"><a href="gráficas-ggplot2.html#cb290-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">color=</span><span class="st">&quot;red&quot;</span>) <span class="co"># correcto, todos los puntos en rojo</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-163-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="incluir-varios-aesteticos" class="section level3 hasAnchor" number="5.1.4">
<h3><span class="header-section-number">5.1.4</span> Incluir varios aesteticos<a href="gráficas-ggplot2.html#incluir-varios-aesteticos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Se pueden mapear otros aestéticos, como “x” e “y”, para visualizar algunas cosas concretas.</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="gráficas-ggplot2.html#cb291-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span></span>
<span id="cb291-2"><a href="gráficas-ggplot2.html#cb291-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size=</span>population))</span>
<span id="cb291-3"><a href="gráficas-ggplot2.html#cb291-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Removed 39 rows containing missing values (`geom_point()`).</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-164-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="ejercicio-1" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Ejercicio<a href="gráficas-ggplot2.html#ejercicio-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Usa la base de datos data(“mtcars”)</p>
<p>Hay que crear un gráfico con los siguientes parámetros:</p>
<ul>
<li>Crear un gráfico de dispersión con el mpg en el eje X y el wt en el eje Y.</li>
<li>Colorea los puntos en azul.</li>
<li>Mapea el color de los puntos a la variable cyl.</li>
<li>Haz los puntos más grandes poniendo un tamaño de 2.</li>
<li>Mapera el tamaño de los puntos en base a disp.</li>
<li>Incluye un suavizado de los datos.</li>
</ul>
</div>
<div id="geom_line-graficos-de-lineas" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> geom_line() graficos de lineas<a href="gráficas-ggplot2.html#geom_line-graficos-de-lineas" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para hacer un gráfico de líneas usaremos una sintaxis muy parecida, pero tendremos que tener en cuenta que R va hacer una línea de punto a punto</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="gráficas-ggplot2.html#cb292-1" aria-hidden="true" tabindex="-1"></a>bb <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span> <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">&quot;Spain&quot;</span>)</span>
<span id="cb292-2"><a href="gráficas-ggplot2.html#cb292-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> <span class="fu">ggplot</span>(<span class="at">data =</span> bb, <span class="fu">aes</span>(<span class="at">y =</span> life_expectancy, <span class="at">x =</span> year )) <span class="sc">+</span></span>
<span id="cb292-3"><a href="gráficas-ggplot2.html#cb292-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span>
<span id="cb292-4"><a href="gráficas-ggplot2.html#cb292-4" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-165-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>¿Qué ocurriría si tenemos varios países para cada año?</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="gráficas-ggplot2.html#cb293-1" aria-hidden="true" tabindex="-1"></a>cc <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span> <span class="fu">filter</span>(continent <span class="sc">==</span> <span class="st">&quot;Oceania&quot;</span>)</span>
<span id="cb293-2"><a href="gráficas-ggplot2.html#cb293-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cc, <span class="fu">aes</span>(<span class="at">y =</span> life_expectancy, <span class="at">x =</span> year )) <span class="sc">+</span></span>
<span id="cb293-3"><a href="gráficas-ggplot2.html#cb293-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-166-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Mmmmmmm, ¿qué ha pasado?</p>
<p>ggplot2() ha juntado todos los valores del año. ¿Cómo podemos arreglar esto?</p>
<p>Démosle un color para que nos separe por países por ejemplo:</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="gráficas-ggplot2.html#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cc, <span class="fu">aes</span>(<span class="at">y =</span> life_expectancy, <span class="at">x =</span> year ,<span class="at">color=</span>country)) <span class="sc">+</span></span>
<span id="cb294-2"><a href="gráficas-ggplot2.html#cb294-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb294-3"><a href="gráficas-ggplot2.html#cb294-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-167-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>O también podemos separarlo en diferentes figuras:</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="gráficas-ggplot2.html#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cc, <span class="fu">aes</span>(<span class="at">y =</span> life_expectancy, <span class="at">x =</span> year )) <span class="sc">+</span></span>
<span id="cb295-2"><a href="gráficas-ggplot2.html#cb295-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb295-3"><a href="gráficas-ggplot2.html#cb295-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>country)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-168-1.png" width="672" style="display: block; margin: auto;" /></p>
<div id="ejercicio-2" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Ejercicio<a href="gráficas-ggplot2.html#ejercicio-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Usa la base de datos gapminder para:</p>
<ul>
<li>Crear un gráfico de la evolución de la esperanza media y máxima de vida en el mundo.</li>
<li>Colorea las líneas de color diferente.</li>
<li>Crear un gráfico de la evolución de la esperanza media por continente.</li>
</ul>
</div>
</div>
<div id="geom_boxplot-diagramas-de-caja" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> geom_boxplot() Diagramas de caja<a href="gráficas-ggplot2.html#geom_boxplot-diagramas-de-caja" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para realizar un diagrama de caja utilizamos la geometría:</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="gráficas-ggplot2.html#cb296-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb296-2"><a href="gráficas-ggplot2.html#cb296-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, <span class="fu">aes</span>(<span class="at">y =</span> life_expectancy, <span class="at">x =</span> country )) <span class="sc">+</span></span>
<span id="cb296-3"><a href="gráficas-ggplot2.html#cb296-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()  </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-169-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Podemos colorear las cajas del gráfico incluyendo en las características estéticas la variable que utilizaremos para el relleno. Automáticamente se crea una leyenda para facilitar la lectura del gráfico, que podemos cambiar de posición o eliminar si se considera que no aporta información relevante.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="gráficas-ggplot2.html#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Diagrama de caja con color de relleno</span></span>
<span id="cb297-2"><a href="gráficas-ggplot2.html#cb297-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">y=</span>life_expectancy, <span class="at">x=</span>continent, <span class="at">fill=</span>continent)) <span class="sc">+</span></span>
<span id="cb297-3"><a href="gráficas-ggplot2.html#cb297-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb297-4"><a href="gráficas-ggplot2.html#cb297-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;País&quot;</span>, <span class="at">y=</span><span class="st">&quot;Esperanza de vida&quot;</span>, <span class="at">fill=</span><span class="st">&quot;Continente&quot;</span>)   <span class="co"># título, ejes y leyenda</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-170-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Podemos añadir estadísticas que nos puedan interesar</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="gráficas-ggplot2.html#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">y=</span>life_expectancy, <span class="at">x=</span>continent, <span class="at">fill=</span>continent)) <span class="sc">+</span></span>
<span id="cb298-2"><a href="gráficas-ggplot2.html#cb298-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb298-3"><a href="gráficas-ggplot2.html#cb298-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Continente&quot;</span>, <span class="at">y=</span><span class="st">&quot;Esperanza de vida&quot;</span>, <span class="at">fill=</span><span class="st">&quot;Continente&quot;</span>) <span class="sc">+</span>  </span>
<span id="cb298-4"><a href="gráficas-ggplot2.html#cb298-4" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_point</span>(<span class="at">stat=</span> <span class="st">&quot;summary&quot;</span>, <span class="at">fun.y=</span>mean, <span class="at">shape=</span><span class="dv">16</span>, <span class="at">size=</span><span class="dv">4</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb298-5"><a href="gráficas-ggplot2.html#cb298-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in geom_point(stat = &quot;summary&quot;, fun.y = mean, shape = 16, size = 4, :</span></span>
<span id="cb298-6"><a href="gráficas-ggplot2.html#cb298-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Ignoring unknown parameters: `fun.y`</span></span>
<span id="cb298-7"><a href="gráficas-ggplot2.html#cb298-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; No summary function supplied, defaulting to `mean_se()`</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-171-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Y entre otras muchas cosas, podemos cambiar los ejes</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="gráficas-ggplot2.html#cb299-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">y=</span>life_expectancy, <span class="at">x=</span>continent, <span class="at">fill=</span>continent)) <span class="sc">+</span></span>
<span id="cb299-2"><a href="gráficas-ggplot2.html#cb299-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb299-3"><a href="gráficas-ggplot2.html#cb299-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Continente&quot;</span>, <span class="at">y=</span><span class="st">&quot;Esperanza de vida&quot;</span>, <span class="at">fill=</span><span class="st">&quot;Continente&quot;</span>) <span class="sc">+</span>  </span>
<span id="cb299-4"><a href="gráficas-ggplot2.html#cb299-4" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_point</span>(<span class="at">stat=</span> <span class="st">&quot;summary&quot;</span>, <span class="at">fun.y=</span>mean, <span class="at">shape=</span><span class="dv">16</span>, <span class="at">size=</span><span class="dv">4</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb299-5"><a href="gráficas-ggplot2.html#cb299-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb299-6"><a href="gráficas-ggplot2.html#cb299-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in geom_point(stat = &quot;summary&quot;, fun.y = mean, shape = 16, size = 4, :</span></span>
<span id="cb299-7"><a href="gráficas-ggplot2.html#cb299-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Ignoring unknown parameters: `fun.y`</span></span>
<span id="cb299-8"><a href="gráficas-ggplot2.html#cb299-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; No summary function supplied, defaulting to `mean_se()`</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-172-1.png" width="672" style="display: block; margin: auto;" /></p>
<div id="ejercicio-3" class="section level3 hasAnchor" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> Ejercicio<a href="gráficas-ggplot2.html#ejercicio-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Usa la base de datos mpg para:</p>
<ul>
<li>Crear un gráfico de cajas para ver como cambia hwy frente a class.</li>
<li>Colorea por tipo drv.</li>
<li>Inlcuye un punto para mostrar dónde está la media de hmy en cada gráfico de cajas.</li>
</ul>
</div>
</div>
<div id="geom_bar-diagrama-de-barras" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> geom_bar() diagrama de barras<a href="gráficas-ggplot2.html#geom_bar-diagrama-de-barras" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>El diagrama de barras, como ya sabemos, puede utilizarse para representar variables categóricas (atributos u ordinales) y variables cuantitativas discretas.</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="gráficas-ggplot2.html#cb300-1" aria-hidden="true" tabindex="-1"></a>n_country <span class="ot">=</span> gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb300-2"><a href="gráficas-ggplot2.html#cb300-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(country,continent) <span class="sc">%&gt;%</span></span>
<span id="cb300-3"><a href="gráficas-ggplot2.html#cb300-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb300-4"><a href="gráficas-ggplot2.html#cb300-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">duplicated</span>(country)) <span class="sc">%&gt;%</span> </span>
<span id="cb300-5"><a href="gráficas-ggplot2.html#cb300-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb300-6"><a href="gráficas-ggplot2.html#cb300-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb300-7"><a href="gráficas-ggplot2.html#cb300-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(n_country) <span class="sc">+</span> </span>
<span id="cb300-8"><a href="gráficas-ggplot2.html#cb300-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span>continent))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-173-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="gráficas-ggplot2.html#cb301-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(n_country) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y=</span>continent))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-174-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>o usando la base de datos mpg</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="gráficas-ggplot2.html#cb302-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb302-2"><a href="gráficas-ggplot2.html#cb302-2" aria-hidden="true" tabindex="-1"></a><span class="co"># número de coches en cada clase</span></span>
<span id="cb302-3"><a href="gráficas-ggplot2.html#cb302-3" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(class)) <span class="sc">+</span> <span class="fu">geom_bar</span>()</span>
<span id="cb302-4"><a href="gráficas-ggplot2.html#cb302-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Si queremos ver diferentes propiedades dentro de cada clase:</span></span>
<span id="cb302-5"><a href="gráficas-ggplot2.html#cb302-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb302-6"><a href="gráficas-ggplot2.html#cb302-6" aria-hidden="true" tabindex="-1"></a>g <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> manufacturer))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-175-1.png" width="672" style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tarea.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/03_graficas.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
